<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chapter 6. Purely functional state | Functional Programming in TypeScript</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/fp_book_club_ts/assets/css/0.styles.fa19ed37.css" as="style"><link rel="preload" href="/fp_book_club_ts/assets/js/app.28b6a54e.js" as="script"><link rel="preload" href="/fp_book_club_ts/assets/js/9.da82b1e3.js" as="script"><link rel="prefetch" href="/fp_book_club_ts/assets/js/10.c8a8c376.js"><link rel="prefetch" href="/fp_book_club_ts/assets/js/2.30eef2e3.js"><link rel="prefetch" href="/fp_book_club_ts/assets/js/3.b6909919.js"><link rel="prefetch" href="/fp_book_club_ts/assets/js/4.60b81192.js"><link rel="prefetch" href="/fp_book_club_ts/assets/js/5.07927b69.js"><link rel="prefetch" href="/fp_book_club_ts/assets/js/6.1e8e7f40.js"><link rel="prefetch" href="/fp_book_club_ts/assets/js/7.1e49933b.js"><link rel="prefetch" href="/fp_book_club_ts/assets/js/8.a9b4fcb2.js">
    <link rel="stylesheet" href="/fp_book_club_ts/assets/css/0.styles.fa19ed37.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fp_book_club_ts/" class="home-link router-link-active"><!----> <span class="site-name">Functional Programming in TypeScript</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fp_book_club_ts/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Chapters</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_1.html" class="nav-link">Chapter 1</a></li><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_2.html" class="nav-link">Chapter 2</a></li><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_3.html" class="nav-link">Chapter 3</a></li><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_4.html" class="nav-link">Chapter 4</a></li><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_5.html" class="nav-link">Chapter 5</a></li><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_6.html" class="nav-link router-link-exact-active router-link-active">Chapter 6</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/calebharris/fp_book_club_ts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fp_book_club_ts/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Chapters</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_1.html" class="nav-link">Chapter 1</a></li><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_2.html" class="nav-link">Chapter 2</a></li><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_3.html" class="nav-link">Chapter 3</a></li><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_4.html" class="nav-link">Chapter 4</a></li><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_5.html" class="nav-link">Chapter 5</a></li><li class="dropdown-item"><!----> <a href="/fp_book_club_ts/chapter_6.html" class="nav-link router-link-exact-active router-link-active">Chapter 6</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/calebharris/fp_book_club_ts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/fp_book_club_ts/chapter_1.html" class="sidebar-link">Chapter 1. What is functional programming?</a></li><li><a href="/fp_book_club_ts/chapter_2.html" class="sidebar-link">Chapter 2. Getting started with functional programming in TypeScript</a></li><li><a href="/fp_book_club_ts/chapter_3.html" class="sidebar-link">Chapter 3. Functional data structures</a></li><li><a href="/fp_book_club_ts/chapter_4.html" class="sidebar-link">Chapter 4. Handling errors without exceptions</a></li><li><a href="/fp_book_club_ts/chapter_5.html" class="sidebar-link">Chapter 5. Strictness and laziness</a></li><li><a href="/fp_book_club_ts/chapter_6.html" class="active sidebar-link">Chapter 6. Purely functional state</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fp_book_club_ts/chapter_6.html#generating-random-numbers-using-side-effects" class="sidebar-link">Generating random numbers using side effects</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="chapter-6-purely-functional-state"><a href="#chapter-6-purely-functional-state" aria-hidden="true" class="header-anchor">#</a> Chapter 6. Purely functional state</h1> <p>We're going to investigate how to write purely functional programs that need to manipulate state, through the example of
<em>random number generation</em>. Not particularly exciting in and of itself, but the idea is simple enough to make for a good
introduction.</p> <h2 id="generating-random-numbers-using-side-effects"><a href="#generating-random-numbers-using-side-effects" aria-hidden="true" class="header-anchor">#</a> Generating random numbers using side effects</h2> <p>In bog-standard TypeScript/JavaScript, the universe of options available to you to generate a random number comprises
<code>Math.random</code>... and that's it.</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&gt;</span> <span class="token keyword">let</span> randomNumber <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
undefined
<span class="token operator">&gt;</span> randomNumber
<span class="token number">0.8158681035026218</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="danger custom-block"><p class="custom-block-title">WARNING</p> <p>Do not use <code>Math.random</code> in situations that call for cryptographically secure random numbers (i.e.  encryption, hashing
passwords, generating passwords, etc.). That is not its intended use and it is not suitable for such purposes. If you
have a need for secure randomness, start with <a href="https://nodejs.org/dist/latest-v10.x/docs/api/crypto.html#crypto_crypto" title="Crypto | Node.js Documentation" target="_blank" rel="noopener noreferrer">Node's <code>crypto</code> module<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API" title="Web Crypto API | MDN" target="_blank" rel="noopener noreferrer">Web Crypto API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/2/2019, 1:34:48 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ‚Üê
        <a href="/fp_book_club_ts/chapter_5.html" class="prev">
          Chapter 5. Strictness and laziness
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/fp_book_club_ts/assets/js/9.da82b1e3.js" defer></script><script src="/fp_book_club_ts/assets/js/app.28b6a54e.js" defer></script>
  </body>
</html>
